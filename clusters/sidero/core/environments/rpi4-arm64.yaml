---
apiVersion: metal.sidero.dev/v1alpha1
kind: Environment
metadata:
  name: rpi4
spec:
  initrd:
    url: https://github.com/siderolabs/talos/releases/download/v1.2.7/initramfs-arm64.xz
    sha512: ada7e1273bae541d5071c2c56f3eec727a1ee32e588b5c6f4bada68d6b51a0cf9670785b26d99d8255f3da6df1239fa3482f2d4380a0cc7e2f5dc2b4b8ef46cb
  kernel:
    url: https://github.com/siderolabs/talos/releases/download/v1.2.7/vmlinuz-arm64
    sha512: 88f517735d2ccd7d054fb69bc5dacc7601ee1c1917781ae8bb1e9363e0e11aeebe1fefca6277018d597ef82a2990c0b83009574809c58112370997c0c269f408
    args:
      - console=tty0
      - console=ttyS0
      - consoleblank=0
      - earlyprintk=ttyAMA0,115200
      - ima_appraise=fix
      - ima_hash=sha512
      - ima_template=ima-ng
      - init_on_alloc=1
      - initrd=initramfs.xz
      - nvme_core.io_timeout=4294967295
      - printk.devkmsg=on
      - pti=on
      - random.trust_cpu=on
      - slab_nomerge=
      - talos.platform=metal
